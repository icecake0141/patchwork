{% extends "base.html" %}
{% block content %}
<h1>Diff {{ project_id }}</h1>
<form method="get">
  <select name="rev1">{% for r in revisions %}<option value="{{ r.revision_id }}" {% if rev1_id==r.revision_id %}selected{% endif %}>{{ r.revision_id }}</option>{% endfor %}</select>
  <select name="rev2">{% for r in revisions %}<option value="{{ r.revision_id }}" {% if rev2_id==r.revision_id %}selected{% endif %}>{{ r.revision_id }}</option>{% endfor %}</select>
  <button type="submit">Compare</button>
</form>
<h2>Logical Diff</h2>
<p>Added: {{ logical.added|length }}, Removed: {{ logical.removed|length }}, Modified: {{ logical.modified|length }}</p>
<h2>Physical Diff</h2>
<p>Added: {{ physical.added|length }}, Removed: {{ physical.removed|length }}, Collisions: {{ physical.collisions|length }}</p>
{% endblock %}
